{
  "title": "VMware vSphere - Overview",
  "description": "This dashboard provides a high-level view of your VMware vSphere environment, with in-depth resource utilization metrics from your hosts and VMs, along with the status of your vCenter Server. For further reading on monitoring vSphere: \n\n- [How to monitor vSphere and application metrics with Datadog](https://www.datadoghq.com/blog/unified-vsphere-app-monitoring-datadog/) \n\n- [Datadog's vSphere integration docs](https://docs.datadoghq.com/integrations/vsphere/#pagetitle). \n\nClone this template dashboard to make changes and add your own graph widgets. ",
  "widgets": [
    {
      "id": 7428718515858859,
      "definition": {
        "type": "image",
        "url": "https://static.datadoghq.com/static/images/saas_logos/bot/vsphere@2x.png",
        "sizing": "fit"
      },
      "layout": { "x": 0, "y": 1, "width": 47, "height": 10 }
    },
    {
      "id": 3119134455015929,
      "definition": {
        "type": "event_stream",
        "query": "sources:vsphere $vcenter_server.value $vcenter_datacenter.value",
        "tags_execution": "and",
        "event_size": "l",
        "title": "vSphere events",
        "title_size": "16",
        "title_align": "left"
      },
      "layout": { "x": 0, "y": 32, "width": 47, "height": 62 }
    },
    {
      "id": 6973988370322874,
      "definition": {
        "type": "toplist",
        "requests": [
          {
            "q": "top(avg:vsphere.mem.usage.avg{vsphere_type:vm,$vcenter_server,$vcenter_datacenter} by {host}, 25, 'mean', 'desc')",
            "conditional_formats": [
              { "comparator": "<=", "value": 70, "palette": "white_on_green" },
              { "comparator": "<=", "value": 90, "palette": "white_on_yellow" },
              { "comparator": ">", "value": 90, "palette": "white_on_red" }
            ],
            "style": { "palette": "dog_classic" }
          }
        ],
        "custom_links": [],
        "title": "Most % memory loaded VMs (Top 25)",
        "title_size": "16",
        "title_align": "left"
      },
      "layout": { "x": 98, "y": 36, "width": 47, "height": 26 }
    },
    {
      "id": 6776778925025344,
      "definition": {
        "type": "toplist",
        "requests": [
          {
            "q": "top(avg:vsphere.cpu.usage.avg{$vcenter_datacenter,$vcenter_server,vsphere_type:vm} by {host}, 25, 'mean', 'desc')",
            "conditional_formats": [
              { "comparator": "<=", "value": 70, "palette": "white_on_green" },
              { "comparator": "<=", "value": 90, "palette": "white_on_yellow" },
              { "comparator": ">", "value": 90, "palette": "white_on_red" }
            ],
            "style": { "palette": "dog_classic" }
          }
        ],
        "custom_links": [],
        "title": "Most % CPU loaded VMs (Top 25)",
        "title_size": "16",
        "title_align": "left"
      },
      "layout": { "x": 98, "y": 9, "width": 47, "height": 26 }
    },
    {
      "id": 2748353415136885,
      "definition": {
        "type": "toplist",
        "requests": [
          {
            "q": "top(avg:vsphere.mem.usage.avg{$vcenter_server,$vcenter_datacenter,vsphere_type:host} by {host}, 10, 'mean', 'desc')",
            "conditional_formats": [
              { "comparator": "<=", "value": 70, "palette": "white_on_green" },
              { "comparator": "<=", "value": 90, "palette": "white_on_yellow" },
              { "comparator": ">", "value": 90, "palette": "white_on_red" }
            ],
            "style": { "palette": "dog_classic" }
          }
        ],
        "custom_links": [],
        "title": "Most % memory loaded hosts (Top 10)",
        "title_size": "16",
        "title_align": "left"
      },
      "layout": { "x": 49, "y": 36, "width": 47, "height": 26 }
    },
    {
      "id": 4637384772002248,
      "definition": {
        "type": "toplist",
        "requests": [
          {
            "q": "top(avg:vsphere.cpu.usage.avg{$vcenter_server,$vcenter_datacenter,vsphere_type:host} by {host}, 10, 'mean', 'desc')",
            "conditional_formats": [
              { "comparator": "<=", "value": 70, "palette": "white_on_green" },
              { "comparator": "<=", "value": 90, "palette": "white_on_yellow" },
              { "comparator": ">", "value": 90, "palette": "white_on_red" }
            ]
          }
        ],
        "custom_links": [],
        "title": "Most % CPU loaded hosts (Top 10)",
        "title_size": "16",
        "title_align": "left"
      },
      "layout": { "x": 49, "y": 9, "width": 47, "height": 26 }
    },
    {
      "id": 7248609360614596,
      "definition": {
        "type": "timeseries",
        "requests": [
          {
            "q": "top(avg:vsphere.disk.usage.avg{$vcenter_server,$vcenter_datacenter,vsphere_type:vm} by {host}, 25, 'mean', 'desc')",
            "display_type": "line",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "custom_links": [],
        "title": "Disk I/O rates per VM (Top 25)",
        "title_size": "16",
        "title_align": "left",
        "show_legend": false,
        "legend_size": "0"
      },
      "layout": { "x": 98, "y": 79, "width": 47, "height": 15 }
    },
    {
      "id": 2937987894264871,
      "definition": {
        "type": "timeseries",
        "requests": [
          {
            "q": "top(avg:vsphere.mem.vmmemctl.avg{$vcenter_server,$vcenter_datacenter,vsphere_type:host} by {host}, 25, 'mean', 'desc')",
            "display_type": "line",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "custom_links": [],
        "yaxis": {
          "label": "",
          "scale": "linear",
          "min": "auto",
          "max": "auto",
          "include_zero": true
        },
        "title": "Memory ballooning by host (Top 25)",
        "title_size": "16",
        "title_align": "left",
        "show_legend": false,
        "legend_size": "0"
      },
      "layout": { "x": 49, "y": 79, "width": 47, "height": 15 }
    },
    {
      "id": 5265499492208988,
      "definition": {
        "type": "timeseries",
        "requests": [
          {
            "q": "top(avg:vsphere.net.usage.avg{$vcenter_server,$vcenter_datacenter,vsphere_type:vm}, 25, 'mean', 'desc')",
            "display_type": "line",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "custom_links": [],
        "yaxis": {
          "label": "",
          "scale": "linear",
          "min": "auto",
          "max": "auto",
          "include_zero": true
        },
        "title": "Total network utilization of VMs (Top 25)",
        "title_size": "16",
        "title_align": "left",
        "show_legend": false,
        "legend_size": "0"
      },
      "layout": { "x": 98, "y": 63, "width": 47, "height": 15 }
    },
    {
      "id": 1812115465273120,
      "definition": {
        "type": "timeseries",
        "requests": [
          {
            "q": "top(sum:vsphere.net.usage.avg{$vcenter_server,$vcenter_datacenter,vsphere_type:host} by {host}, 25, 'mean', 'desc')",
            "display_type": "area",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "custom_links": [],
        "yaxis": {
          "label": "",
          "scale": "linear",
          "min": "auto",
          "max": "auto",
          "include_zero": true
        },
        "title": "Total network utilization of hosts (Top 25)",
        "title_size": "16",
        "title_align": "left",
        "show_legend": false,
        "legend_size": "0"
      },
      "layout": { "x": 49, "y": 63, "width": 47, "height": 15 }
    },
    {
      "id": 8177263675514498,
      "definition": {
        "type": "note",
        "content": "# ESXi Hosts",
        "background_color": "gray",
        "font_size": "14",
        "text_align": "center",
        "show_tick": true,
        "tick_pos": "50%",
        "tick_edge": "bottom"
      },
      "layout": { "x": 49, "y": 1, "width": 47, "height": 6 }
    },
    {
      "id": 6180513113740504,
      "definition": {
        "type": "query_value",
        "requests": [
          {
            "q": "sum:vsphere.host.count{$vcenter_server,$vcenter_datacenter,$host}",
            "aggregator": "last"
          }
        ],
        "custom_links": [],
        "title": "Host count",
        "title_size": "16",
        "title_align": "left",
        "autoscale": true,
        "precision": 0
      },
      "layout": { "x": 32, "y": 12, "width": 15, "height": 9 }
    },
    {
      "id": 6062512208475571,
      "definition": {
        "type": "query_value",
        "requests": [
          {
            "q": "sum:vsphere.vm.count{$vcenter_server,$vcenter_datacenter,$host}",
            "aggregator": "last"
          }
        ],
        "custom_links": [],
        "title": "VM count",
        "title_size": "16",
        "title_align": "left",
        "autoscale": true,
        "precision": 0
      },
      "layout": { "x": 16, "y": 12, "width": 15, "height": 9 }
    },
    {
      "id": 2007021006124821,
      "definition": {
        "type": "check_status",
        "title": "vSphere status",
        "title_size": "16",
        "title_align": "center",
        "check": "vsphere.can_connect",
        "grouping": "cluster",
        "group_by": ["$vcenter_server"],
        "tags": ["*"]
      },
      "layout": { "x": 0, "y": 12, "width": 15, "height": 9 }
    },
    {
      "id": 2734258370085530,
      "definition": {
        "type": "query_value",
        "requests": [
          {
            "q": "sum:vsphere.datastore.count{$vcenter_server,$vcenter_datacenter,$host}",
            "aggregator": "last"
          }
        ],
        "custom_links": [],
        "title": "Datastore count",
        "title_size": "16",
        "title_align": "left",
        "precision": 0
      },
      "layout": { "x": 0, "y": 22, "width": 15, "height": 9 }
    },
    {
      "id": 1269107342125006,
      "definition": {
        "type": "query_value",
        "requests": [
          {
            "q": "sum:vsphere.cluster.count{$vcenter_server,$vcenter_datacenter,$host}",
            "aggregator": "last"
          }
        ],
        "custom_links": [],
        "title": "Cluster count",
        "title_size": "16",
        "title_align": "left",
        "autoscale": true,
        "precision": 0
      },
      "layout": { "x": 16, "y": 22, "width": 15, "height": 9 }
    },
    {
      "id": 5672152516085576,
      "definition": {
        "type": "query_value",
        "requests": [
          {
            "q": "sum:vsphere.datacenter.count{$vcenter_server,$vcenter_datacenter,$host}",
            "aggregator": "last"
          }
        ],
        "custom_links": [],
        "title": "Datacenter count",
        "title_size": "16",
        "title_align": "left",
        "autoscale": true,
        "precision": 2
      },
      "layout": { "x": 32, "y": 22, "width": 15, "height": 9 }
    },
    {
      "id": 4693906552318017,
      "definition": {
        "type": "note",
        "content": "# Virtual Machines",
        "background_color": "gray",
        "font_size": "14",
        "text_align": "center",
        "show_tick": true,
        "tick_pos": "50%",
        "tick_edge": "bottom"
      },
      "layout": { "x": 98, "y": 1, "width": 47, "height": 6 }
    },
    {
      "id": 2533258218533191,
      "definition": {
        "type": "note",
        "content": "# Datastores",
        "background_color": "gray",
        "font_size": "14",
        "text_align": "center",
        "show_tick": true,
        "tick_pos": "50%",
        "tick_edge": "bottom"
      },
      "layout": { "x": 147, "y": 1, "width": 47, "height": 6 }
    },
    {
      "id": 8027248906680317,
      "definition": {
        "type": "toplist",
        "requests": [
          {
            "q": "top(avg:vsphere.disk.used.latest{$vcenter_server,$vcenter_datacenter,vsphere_type:datastore} by {vsphere_datastore}/avg:vsphere.disk.capacity.latest{$vcenter_server,$vcenter_datacenter,vsphere_type:datastore} by {vsphere_datastore}*100,10,'mean','desc')",
            "conditional_formats": [
              { "comparator": "<=", "value": 270, "palette": "white_on_green" },
              { "comparator": "<=", "value": 90, "palette": "white_on_yellow" },
              { "comparator": ">", "value": 90, "palette": "white_on_red" }
            ]
          }
        ],
        "custom_links": [],
        "title": "Datastore used space in % (Top 10)",
        "title_size": "16",
        "title_align": "left"
      },
      "layout": { "x": 147, "y": 9, "width": 47, "height": 26 }
    },
    {
      "id": 6407101928134054,
      "definition": {
        "type": "timeseries",
        "requests": [
          {
            "q": "top(avg:vsphere.datastore.numberReadAveraged.avg{vsphere_type:datastore,$vcenter_server,$vcenter_datacenter} by {vsphere_datastore}, 25, 'mean', 'desc')",
            "display_type": "line",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "custom_links": [],
        "yaxis": {
          "label": "",
          "scale": "linear",
          "min": "auto",
          "max": "auto",
          "include_zero": true
        },
        "title": "Number of reads per datastore (Top 25)",
        "title_size": "16",
        "title_align": "left",
        "show_legend": false
      },
      "layout": { "x": 147, "y": 36, "width": 47, "height": 15 }
    },
    {
      "id": 5379179682091062,
      "definition": {
        "type": "timeseries",
        "requests": [
          {
            "q": "top(avg:vsphere.disk.numberWriteAveraged.avg{vsphere_type:datastore,$vcenter_server,$vcenter_datacenter} by {vsphere_datastore}, 25, 'mean', 'desc')",
            "display_type": "line",
            "style": {
              "palette": "dog_classic",
              "line_type": "solid",
              "line_width": "normal"
            }
          }
        ],
        "custom_links": [],
        "yaxis": {
          "label": "",
          "scale": "linear",
          "min": "auto",
          "max": "auto",
          "include_zero": true
        },
        "title": "Number of writes per datastore (Top 25)",
        "title_size": "16",
        "title_align": "left",
        "show_legend": false,
        "legend_size": "0"
      },
      "layout": { "x": 147, "y": 52, "width": 47, "height": 15 }
    }
  ],
  "template_variables": [
    { "name": "vcenter_server", "default": "*", "prefix": "vcenter_server" },
    {
      "name": "vcenter_datacenter",
      "default": "*",
      "prefix": "vsphere_datacenter"
    },
    {
      "name": "host",
      "default": "aws.vcenter.localdomain-synthetics",
      "prefix": "host"
    }
  ],
  "layout_type": "free",
  "is_read_only": false,
  "notify_list": [],
  "id": "m7e-3hv-p6n"
}
